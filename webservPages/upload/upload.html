<!DOCTYPE html>
<html>

<head>
	<title>UPLOAD</title>
	<script>
		function sendDeleteRequest() {
			var key = document.getElementById('delete-key').value;

			fetch('/delete?key=' + encodeURIComponent(key), {
				method: 'DELETE',
			})
				.then(response => {
					if (response.ok) {
						console.log('Ressource deleted!');
					} else {
						console.log('Something went wrong!');
					}
				})
				.catch(error => {
					console.error('Something went wrong!', error);
				});
		}
	</script>
</head>
<body>
	<h1>Upload</h1>

	<h2>POST Request</h2>
	<form action="/post" method="POST">
		<label for="post-key">Key :</label>
		<input type="text" id="post-key" name="key" required><br>

		<label for="post-value">Value :</label>
		<input type="text" id="post-value" name="value" required><br>

		<button type="submit">Set key</button>
	</form>

	<h2>DELETE Request</h2>
	<form>
		<label for="delete-key">Key :</label>
		<input type="text" id="delete-key" required>
		<button type="button" onclick="sendDeleteRequest()">Delete</button>
	</form>

	<h2>Upload file</h2>
	<form id="upload-form" enctype="multipart/form-data">
		<input type="file" id="file-input" name="file">
		<button type="submit">Upload</button>
	  </form>
	
	  <script>
		document.getElementById('upload-form').addEventListener('submit', function(event) {
		  event.preventDefault();
	
		  const formData = new FormData();
		  const fileInput = document.getElementById('file-input');
		  const file = fileInput.files[0];
	
		  if (file) {
			formData.append('file', file);
	
			fetch('/post', {
			  method: 'POST',
			  body: formData
			})
			  .then(response => {
				if (response.ok) {
				  console.log('File uploaded successfully!');
				} else {
				  console.error('Error uploading file:', response.status);
				}
			  })
			  .catch(error => {
				console.error('Error uploading file:', error);
			  });
		  } else {
			console.log('Please select a file.');
		  }
		});
	  </script>
</body>

</html>
