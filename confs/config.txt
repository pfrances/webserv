server {
	listen 4242;
	server_name default4242;

	root webservPages;
	error_page 404 webservPages/errorPages/404.html;

	location / {
		autoindex on;
	}

	location /upload {
		return 301 http://server2:8080/upload;
	}
}

server {
	listen 4242;
	server_name server1;

	root webservPages;
	error_page 404 webservPages/errorPages/404.html;

	location / {
		return 301 /cgi-bin;
	}

	location /cgi-bin {
		allow_methods GET POST;
		index cgi.sh;

		cgi_executor /bin/bash;
		cgi_ext .sh;
	}
}

server {
	listen 8080;
	server_name server2;

	root webservPages;
	client_body_size 1m;
	index index2.html;

	location /upload {
		index upload.html;
	}

	location /post {
		allow_methods POST;
		upload_path webservPages/upload;
		return 303 /upload/$;
	}

	location /delete {
		allow_methods DELETE;
		upload_path webservPages/upload;
		return 303 /upload/$;
	}
}

server {
	listen 8080;
	server_name redirect;

	return 301 http://server2:8080;
}
